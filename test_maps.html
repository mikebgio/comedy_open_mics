<!DOCTYPE html>
<html>
<head>
    <title>Google Maps API Test</title>
</head>
<body>
    <h3>Google Maps Autocomplete Test</h3>
    <input type="text" id="address" placeholder="Start typing an address..." style="width: 300px; padding: 10px;">
    <div id="debug"></div>

    <script>
        let autocomplete;

        function initAutocomplete() {
            const addressField = document.getElementById('address');
            const debugDiv = document.getElementById('debug');
            
            debugDiv.innerHTML += '<br>Initializing autocomplete...';
            
            autocomplete = new google.maps.places.Autocomplete(addressField, {
                types: ['address'],
                componentRestrictions: { country: ['us', 'ca'] }
            });

            autocomplete.addListener('place_changed', function() {
                const place = autocomplete.getPlace();
                debugDiv.innerHTML += '<br>Place selected: ' + (place.formatted_address || place.name);
                
                if (place.geometry) {
                    debugDiv.innerHTML += '<br>Coordinates: ' + place.geometry.location.lat() + ', ' + place.geometry.location.lng();
                }
            });
            
            debugDiv.innerHTML += '<br>Autocomplete initialized successfully!';
        }

        // Load Google Maps API
        const apiKey = 'AIzaSyBxMsCNu5oU8Mv-K8DFE3PUlhYk0AhJmhY'; // Your API key
        const script = document.createElement('script');
        script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=places&callback=initAutocomplete`;
        script.async = true;
        script.defer = true;
        script.onerror = function() {
            document.getElementById('debug').innerHTML = 'Failed to load Google Maps API';
        };
        document.head.appendChild(script);
        
        document.getElementById('debug').innerHTML = 'Loading Google Maps API...';
    </script>
</body>
</html>